---
title: "`{xaringan}`"
subtitle: "A Presentation Template for the .red[Extension School]"
author: "Daniel Flores-Agreda"
date: "4/02/2021"
output:
  xaringan::moon_reader:
    css: ["default", "css/exts.css", "css/exts-fonts.css"]
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: '16:9' # alternatives '16:9' or '4:3' or others e.g. 13:9
      # ratio: '13:9' # alternatives '16:9' or '4:3' or others e.g. 13:9
      navigation:
        scroll: true # disable slide transitions by scrolling
---

```{r, include  = FALSE, message= FALSE, warning = FALSE}
library(tidyverse)
library(icon)
# library(htmlwidgets)
library(leaflet)
# library(xaringanExtra)
knitr::opts_chunk$set(echo = FALSE, message = FALSE, fig.align='center', fig.height = 5)
```

```{r icons}
icon_download   <- fontawesome("download", style = "solid")
icon_github     <- simple_icons("github")
icon_thumbs_up  <- fontawesome("thumbs-up", style = "solid") 
icon_js         <- simple_icons("javascript") 
icon_md         <- simple_icons("markdown")
icon_css3       <- simple_icons("css3")
icon_r          <- simple_icons("r") 
icon_html5      <- simple_icons("html5")
icon_keyboard   <- fontawesome("keyboard", style = "solid")
icon_images     <- fontawesome("images", style = "solid")
icon_columns    <- fontawesome("columns", style = "solid")
icon_palette    <- fontawesome("palette", style = "solid")
icon_code       <- icon::fontawesome("code")
```


class: section, center, middle

# `r icon_download` Installation 

---

# `r icon_download` Installation 

- The `{xaringan}` package is on [`r icon_r` CRAN](https://cran.r-project.org/web/packages/xaringan/index.html) and the development version on the [`r icon_github` github repo](https://github.com/yihui/xaringan)

- Either can be installed using the usual `R` commands:

```r
install.packages("xaringan")
devtools::install_github('yihui/xaringan')
```

--

- The [**`exts_xaringan`** `r icon_github` github repo](https://github.com/dfloresag/exts_xaringan) contains this template, as well as the assets: 

--

.pull-left[

The style sheets 

- `exts.css`

- `exts-fonts.css`
]

--

.pull-right[

A set of images and graphical `assets`, in particular the .red[EXTS Logo]

- `assets/EXTS_Logo_Standalone.svg`

]

--

- To kickstart your presentation, feel free to clone the repo and make changes on this template. 

---

# `r icon_download` Installation 



- Click the `Knit` button to compile it;


- or use the [RStudio Addin](https://rstudio.github.io/rstudioaddins/)<sup>1</sup> "Infinite Moon Reader" to live preview the slides 
    - every time you update and save the Rmd document, the slides will be automatically reloaded in RStudio Viewer.

- Icons can be inserted  _inline_ using the package `{icon}`, e.g.`r icon::simple_icons("github")` :  `icon::simple_icons("github")`. And you can retrieve the icons of the following libraries:     

  - [`fontawesome()`](https://fontawesome.com/icons?d=gallery) (General Purpose)
  
  - [`simple_icons()`](https://simpleicons.org/?q=html) : (Popular brands) 
  
  - [`academicicons()`](https://jpswalsh.github.io/academicons/)  (`doi`, `moodle`, `orcid`)

.footnote[
[1] See [#2](https://github.com/yihui/xaringan/issues/2) if you do not see the template or addin in RStudio.
]


---
background-image: url(https://upload.wikimedia.org/wikipedia/commons/b/be/Sharingan_triple.svg)
background-size: 550px
background-position: 50% 50%

class: section, center, middle

# `{xaringan}`

---
# `r icon_thumbs_up` What's .red[good] about `{xaringan}`? 

--

### `r icon_js` based on [`remark.js`](https://remarkjs.com/#1)

### `r icon_md` Mardown typsetting

### `r icon_css3` Easy customisation with CSS

### `r icon_r` Well integrated with `R`

### `r icon_html5` Rendered in `html` and easily deployed on the web

---
# `r icon_thumbs_up` What's .red[good] about `{xaringan}`? 

### `r icon_keyboard` Keyboard shortcuts

- **h** for a list of the shortcuts.

- **p** for presentation mode 

  - Displays a timer, presentation notes as well as current and the next slide.

  - You can write slide notes under three question marks `???`. 
  
  - These notes are only displayed in the presentation mode, and only the speaker can see these notes and play well with separate screens.

- **c** clones slideshow to a separate screen (which plays well with presentation mode)

- **m** mirrors the slide

???

Here are the goodies!

---
class: section, center, middle

# `r icon_css3` Some classes 

---

class: section, center, middle

# Section Separator 

.footnote[
.content-box-marine[
```
class: section, center, middle

# Section Separator 
```
]
]

---
class: subsection, center, middle

# Subsection Separator

.footnote[
.content-box-marine[
```
class: subsection, center, middle

# Subsection Separator
```
]
]

---
class: subsubsection, center, middle

# Subsubsection Separator

.footnote[
.content-box-grey[
```
class: subsubsection, center, middle

# Subsubsection Separator

```
]
]
---
# `r icon_css3` Some classes 

.pull-left[
## Headers
.center[
.middle[
# Header 1
## Header 2
### Heather 3
]
]
]

.pull-right[

## Text size

| .Large[Size] | .Large[class] |
| :------: | :-----: | 
| .Large[Large] | `.Large[]`|
| .large[large] | `.large[]`|
| .small[small] | `.small[]`|
| .footnotesize[footnotesize] | `.footnotesize[]`|
| .scriptsize[scriptsize] | `.scriptsize[]` |
| .tiny[tiny] | `.tiny[]`| 

]

---

class: subsection, center, middle

# `r icon_images` Background Images

---
class: bottom, left
background-image: url("assets/image_orig.jpeg")
background-size: cover



.footnote[

.content-box-marine[
```
---
background-image: url("assets/image_orig.jpeg")
background-size: cover


---
```
]
]

---

# `r icon_columns` Column layout

.pull-left[

## `.pull-left[]`
.content-box-grey[
.center[.middle[
# .white[45%]
]]
]

]
.pull-right[
## `.pull-right[]`
.content-box-grey[
.center[.middle[
# .white[45%]
]]
]
]

---
# `r icon_palette` Colored Elements

.pull-left[
### Colored Text<sup>*<sup>

| Color |Syntax | HEX |
|:------:|:-------:|:-----:|
|.red[Red] | .red[`.red[Red]`] | .red[`#CF0000`] | 
|.grey[Grey] | .grey[`.grey[Grey]`] | .grey[`#3F3C3A`] | 
|.oil["Oil"] | .oil[`.oil["Oil"]`] | .oil[`#425556`] | 
|.marine["Marine"] | .marine[`.marine["Marine"]`] | .marine[`#00A79F`] | 

]

--

.pull-right[
### Content Boxes
.content-box-red[
`.content-box-red[]`
]
.content-box-grey[
`.content-box-grey[]`
]
.content-box-oil[
`.content-box-oil[]`
]
.content-box-marine[
`.content-box-marine[]`
]

]

--
.footnote[
[*] And of course, WHITE. 
]

---
# `r icon::fontawesome("graduation-cap", style = "solid")` Math Expressions

You can write LaTeX math expressions inside a pair of dollar signs, e.g. &#36;\alpha+\beta$ renders $\alpha+\beta$. You can use the display style with double dollar signs:

```
$$\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i$$
```

$$\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i$$

Limitations:

1. The source code of a LaTeX math expression must be in one line, unless it is inside a pair of dollar signs `$$`
  - the starting `$$` must appear in the very beginning of a line, followed immediately by a non-space character,
  
  - the ending `$$` must be at the end of a line, led by a non-space character;

1. There should not be spaces after the opening `$` or before the closing `$`.

1. Math does not work on the title slide (see [#61](https://github.com/yihui/xaringan/issues/61) for a workaround).

---
# `r icon_r` Code Execution


.pull-left[

## Code
```{r, echo = TRUE, comment='#'}
# a boring regression
fit = lm(dist ~ 1 + speed, data = cars)
coef(summary(fit))
```
]

.pull-right[

## Results
```{r cars, echo = TRUE, fig.height=3.5, dev='svg'}

par(mar = c(4, 4, 1, .1))
plot(cars, pch = 19, col = 'darkgray', las = 1)
abline(fit, lwd = 2)
```
]

---

# `r icon_r` Tables

If you want to generate a table, make sure it is in the HTML format (instead of Markdown or other formats), e.g.,

```{r}
knitr::kable(head(iris), format = 'html')
```

---
# `r icon_code` HTML Widgets

In the words of the author, this is not bulletproof, 

.exts-blockquote[It is a little tricky.]

Unfortunately, Shiny mode (`runtime: shiny`) does not work. Again, in the words of the author: 

.exts-blockquote[I might get these issues fixed in the future, but these are not of high priority to me. I never turn my presentation into a Shiny app.]

The following slides are supposed to have examples however, they might not work.

---
## `{leaflet}`

```{r ,out.width='100%', fig.height=6, eval=require('leaflet'), fig.align='center'}
library(leaflet)
leaflet() %>% 
  addTiles() %>% 
  setView(6.5668, 46.5191, zoom = 15)
```

---
## `{DT}`

```{r, echo = TRUE, eval=require('DT'), tidy=FALSE}
DT::datatable(
  head(iris, 10),
  fillContainer = FALSE, options = list(pageLength = 8)
)
```
---
# `r icon_code` highlighting Code


.pull-left[
Can be done using using a leading `*` in a 

    ```r
    if (TRUE) {
    ** message("Very important!")
    }
    ```
Output:

```r
if (TRUE) {
* message("Very important!")
}
```

This is invalid R code, so it is a plain fenced code block that is not executed.
]

.pull-right[
An example using `{{}}`:

````
`r ''````{r tidy=FALSE}
if (TRUE) {
*{{ message("Very important!") }}
}
```
````

Output:
```{r tidy=FALSE}
if (TRUE) {
{{ message("Very important!") }}
}
```

It is valid R code so you can run it. Note that `{{}}` can wrap an R expression of multiple lines.
]

---

# `r icon_code` highlighting Code

An example of using the trailing comment `#<<` to highlight lines:

.pull-left[
```{r echo = TRUE, tidy=FALSE, eval = FALSE}
library(ggplot2)
ggplot(mtcars) + 
  aes(mpg, disp) + 
  geom_point() #<<
```
]
.pull-right[
```{r echo = FALSE, tidy=FALSE}
library(ggplot2)
ggplot(mtcars) + 
  aes(mpg, disp) + 
  geom_point() #<<
```
]


---
# `r icon_code` highlighting Code

An example of using the trailing comment `#<<` to highlight lines:

.pull-left[
```{r echo = TRUE, tidy=FALSE, eval = FALSE}
library(ggplot2)
ggplot(mtcars) + 
  aes(mpg, disp) + 
  geom_point() +   #<<
  geom_smooth()    #<<
```
]

.pull-right[
```{r tidy=FALSE}
library(ggplot2)
ggplot(mtcars) + 
  aes(mpg, disp) + 
  geom_point() +   #<<
  geom_smooth()    #<<
```
]

---

# Some Tips

When you enable line-highlighting, you can also use the chunk option `highlight.output` to highlight specific lines of the text output from a code chunk. For example, `highlight.output = TRUE` means highlighting all lines, and `highlight.output = c(1, 3)` means highlighting the first and third line.

````md
`r ''````{r, highlight.output=c(1, 3)}
head(iris)
```
````

```{r, highlight.output=c(1, 3), echo=FALSE}
head(iris)
```

Question: what does `highlight.output = c(TRUE, FALSE)` mean? (Hint: think about R's recycling of vectors)

---

# Some Tips

- To make slides work offline, you need to download a copy of remark.js in advance, because **xaringan** uses the online version by default (see the help page `?xaringan::moon_reader`).

- You can use `xaringan::summon_remark()` to download the latest or a specified version of remark.js. By default, it is downloaded to `libs/remark-latest.min.js`.

- Then change the `chakra` option in YAML to point to this file, e.g.

    ```yaml
    output:
      xaringan::moon_reader:
        chakra: libs/remark-latest.min.js
    ```

- If you used Google fonts in slides (the default theme uses _Yanone Kaffeesatz_, _Droid Serif_, and _Source Code Pro_), they won't work offline unless you download or install them locally. The Heroku app [google-webfonts-helper](https://google-webfonts-helper.herokuapp.com/fonts) can help you download fonts and generate the necessary CSS.

---

class: title-slide-final, center, middle

# Thanks!

.Large[Slides created via the R package [**xaringan**](https://github.com/yihui/xaringan).]

.Large[The chakra comes from [remark.js](https://remarkjs.com), [**knitr**](https://yihui.org/knitr), and [R Markdown](https://rmarkdown.rstudio.com).]


